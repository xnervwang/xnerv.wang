=== Multiple Domain Mapping on Single Site ===
Contributors:  matthias.wagner
Donate link: http://www.matthias-wagner.at
Tags: multidomain, landingpage, redirect, domainmapping, multiple, domain, single, site, seo
Requires at least: 4.5
Tested up to: 4.7
Stable tag: 0.1.2
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

Allows you to configure multiple domains to point to specific URLs in your blog or website.

== Description ==

= What does this plugin do? =
This lightweight plugin maps domains to specific URIs in your blog or website. It allows you to add as many landingpages as you want. 
Just let the domains point to your WordPress installation (see the installation tab for details) and decide which URI the plugin should hook them to.

= Who is this plugin for? =
The main purpose of the plugin is to have specific domains point to specific pages from a bigger website. This is especially needed for marketing and SEO purposes. Think of a site-structure like

* www.mainsite.com
* www.mainsite.com/productA
* www.mainsite.com/productB

With the plugin you can use an additional domain like www.productA.com to point to your site's www.mainsite.com/productA.
It is **not only a redirection**, instead the additional domain will display the content from the specified page (the additional domain will be visible in the browsers address bar). 

= Who is this plugin not for? =
The plugin requires additional steps in setting up your domains and hosting environment (see the installation-tab for details). If you are not familiar with these settings, it can happen that you have troubles with reaching your website. Therefore you should only set up the plugin in a testing environment if you are not sure if you can deal with these external settings.

= Which Pages, Post Types, ... does the plugin support? =
The plugin lets you define URIs to map to, so it works for pages, posts, custom post types, archives and so on. The plugin also changes hyperlink destination of the autogenerated links, which point to the URIs. For example: post navigation links, menu links, category page links and so on. (Note: This only works if your theme and other link-generating plugins use standard WordPress functions).

So you will not have to select posts to map to your domains, but instead enter URIs. See the screenshot-tab for examples.

= Does the plugin support WooCommerce, Yoast SEO, ...? =
Please see the FAQ for information on plugin compatibility.

= Troubles? =
Please see installation-tab, FAQ and the already answered support threads for more information or if you have troubles setting up the plugin.

== Installation ==

= 1. External Setup =
Make sure that the domains you want to use already point to your WordPress installation root. This requires two steps:

1. The A-Records of the used domains must have the same IP address assigned as your main domain. This is usually done in the DNS-Settings of your domain registrar.
2. In your hosting environment, you must configure all domains to point into the same directory as your main domain (usually your WordPress root directory). This is sometimes called virtual hosting, multidomain, domainmapping, domain alias, ...

= 2. Plugin Installation =
1. Upload plugin-folder to your "/wp-content/plugins/" directory.
2. Activate the plugin through the Plugins-menu in WordPress.

= 3. Plugin Setup =
After you have the "External Setup" complete, all your domains will show your WordPress home page.

* If not, do NOT start to enter mappings in the plugin options - it will make troubleshooting worse.,
* If so, begin to enter your domains and the URIs they should match in the settings, located in the Tools-Menu. See screenshots for examples.

== Frequently Asked Questions ==

= Can I use "Multiple Domain Mapping on Single Site" with a Wordpress multisite? =

No, you should not use the plugin with a WordPress multisite installation. There are other plugins for that purpose. This plugin is only used to map domains on a single-site installation. If you are not sure if you should use a single- or multisite installation, please refer to the WordPress Codex:
*If you plan on creating sites that are strongly interconnected, that share data, or share users, then a multisite network might NOT be the best solution.* from [WordPress Codex](https://codex.wordpress.org/Before_You_Create_A_Network)

We did not test the plugin in a multisite environment and can not help you with your support questions regarding such a setting.

= Why am i logged out when viewing pages/posts/... with mapped domains? =
If you are on the frontend of your site and logged in, it will happen that you do not see the admin bar and seem to be logged out when viewing URIs with mapped domains. This is because WordPress uses cookies to save the login-state. These cookies have your main domain saved and so they are not able to recognize you logged in when viewing URIs with mapped domains.

= Does the plugin support german "Umlaute" like ä/ö/ü ? =

Yes, and since version 0.1 there is also a How-To included in these FAQ: You have to define these domains in the IDN format. For example the domain *www.küche.at* would need to be put in as *www.xn--kche-0ra.at*. You can use the [Verisign IDN Conversion Tool](http://mct.verisign-grs.com/) to find out these representation for your domains.

Maybe we will include an automatic conversion like [Punycode.js](https://github.com/bestiejs/punycode.js) in a future release, if you would like it.

= Does the plugin support https - connections? =

If you have set up all your domains and certificates correctly, the plugin will work with https-connections as well. Watch out to enter the correct protocol (http vs. https) in the settings. If you do not have a certificate for your additional domains, you must enter them with http. Do not try to have a certificate only for an additional domain but not for the main domain: Browsers will detect mixed content and display security warnings.

Its best to have all or none of your domains SSL-secured.

= Does the plugin support Yoast SEO XML sitemaps? =
The XML sitemap functionality from the popular [Yoast SEO](https://wordpress.org/plugins/wordpress-seo/) plugin works with this plugin. Instead of those original URLs, the sitemap shows the mapped domains. As the plugin hooks into various link-generating methods, also other sitemap-plugins which use these standard-functions should work with this plugin.
Version 0.1.2 fixed some problems with specific types in the Yoast XML sitemap.

Sometimes it is necessary to disable and re-enable XML-Sitemap functionality in the Yoast SEO settings in order to reflect the mappings.

= Does the plugin support WooCommerce? =
Unfortunately not - some parts work, some not. It is difficult to find out and by now we do not see a chance for us to take the time needed for good support and compatibility. WooCommerce seems to use a lot of link-generating functions that are not in WordPress core. This seems to be necessary for different product types and so on. On top, also the XML sitemaps from Yoast SEO display some links mapped and some not.

If you want to use custom domains for parts of your WooCommerce store, this plugin is not (yet) the right decision.

== Screenshots ==

1. Your WordPress runs on www.maindomain.com. You have a special product landingpage, which will now be accessible through the special domain, as well as your team page.
2. Your main site has a page for a restaurant and a custom post type "dishes" with post "beef". Everything beneath /restaurant, like /restaurant/menu will be accessible through http://restaurant.com, except /restaurant/dishes/beef, which will be changed to http://beefdishes.com

== Changelog ==

= 0.1.2 =
* Additional post type and archive link support
* Better support for Yoast SEO
* More information on installation and setup, FAQ, screenshots
* More information for setting up mappings on the backend
* Added compatibility settings for rare server incompatibilities
* Bugfix when having mapping-URIs which had the same characters in the beginning

= 0.1.1 =
* Removed a function that was used for testing automatic IDN conversion, but was incompatible with php 5.3

= 0.1 =
* Cleaned up code
* Cleaned up admin page
* Removed +/- Buttons to avoid the use of JavaScript
* Added text domain to strings
* Added support for german *Umlaute* as described in the FAQ
* Added Banner and Icon
* Moved the settings page into the Tools-section

= 0.0.1 =
* Initial release